{% extends "base.html" %}

{% block title %}Caso Pr√°ctico - Forensic Digital{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="page-hero caso-hero">
    <div class="container">
        <div class="row align-items-center min-vh-80">
            <div class="col-lg-8 mx-auto text-center">
                <div class="hero-content">
                    <div class="badge-container mb-4">
                        <span class="hero-badge">üîé An√°lisis Real</span>
                    </div>
                    <h1 class="hero-title">
                        <span class="gradient-text">Caso Pr√°ctico</span>
                    </h1>
                    <p class="hero-description">
                        Investigaci√≥n de Ciberacoso: Un caso real donde el an√°lisis de evidencia digital 
                        fue crucial para identificar al responsable y proteger a la v√≠ctima.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Caso Pr√°ctico -->
<section class="content-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <!-- Escenario del Caso -->
                <div class="content-card featured mb-5">
                    <div class="card-header">
                        <div class="header-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h2>Escenario del Caso</h2>
                    </div>
                    <div class="card-body">
                        <div class="case-alert">
                            <div class="alert-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="alert-content">
                                <h5>Contexto</h5>
                                <p class="mb-0">
                                    Una empresa de tecnolog√≠a reporta que uno de sus empleados, Mar√≠a Gonz√°lez (Gerente de Proyectos), 
                                    est√° recibiendo mensajes amenazantes y acosadores a trav√©s de su correo electr√≥nico corporativo. 
                                    Los mensajes comenzaron hace 3 semanas y han aumentado en frecuencia e intensidad.
                                </p>
                            </div>
                        </div>
                        
                        <div class="case-details mt-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="detail-item">
                                        <i class="fas fa-user text-primary"></i>
                                        <div class="detail-content">
                                            <strong>V√≠ctima</strong>
                                            <span>Mar√≠a Gonz√°lez - Gerente de Proyectos</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="detail-item">
                                        <i class="fas fa-building text-primary"></i>
                                        <div class="detail-content">
                                            <strong>Empresa</strong>
                                            <span>TechSolutions Inc. - 250 empleados</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="detail-item">
                                        <i class="fas fa-calendar text-primary"></i>
                                        <div class="detail-content">
                                            <strong>Duraci√≥n</strong>
                                            <span>3 semanas (mensajes en aumento)</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="detail-item">
                                        <i class="fas fa-exclamation-triangle text-warning"></i>
                                        <div class="detail-content">
                                            <strong>Nivel de Amenaza</strong>
                                            <span class="text-warning">Alto - Mensajes personales y amenazantes</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Proceso de Investigaci√≥n -->
                <div class="content-card mb-5">
                    <div class="card-header">
                        <h3>Proceso de Investigaci√≥n</h3>
                        <p class="text-muted">Metodolog√≠a paso a paso aplicada en el caso</p>
                    </div>
                    <div class="card-body">
                        <div class="investigation-timeline">
                            {% for step in [
                                {
                                    "number": "1",
                                    "title": "Recolecci√≥n de Evidencia",
                                    "description": "Se obtienen copias forenses del equipo de Mar√≠a y se extraen los registros del servidor de correo corporativo.",
                                    "actions": [
                                        "Creaci√≥n de imagen forense del laptop de Mar√≠a usando FTK Imager",
                                        "Extracci√≥n de logs del servidor Exchange 2019",
                                        "Preservaci√≥n de headers de correos electr√≥nicos",
                                        "Documentaci√≥n fotogr√°fica del equipo"
                                    ]
                                },
                                {
                                    "number": "2",
                                    "title": "An√°lisis de Correos Electr√≥nicos",
                                    "description": "Examen detallado de los encabezados de los mensajes para determinar el origen y patrones de env√≠o.",
                                    "actions": [
                                        "Los mensajes provienen de diferentes direcciones IP",
                                        "Patr√≥n de env√≠o: principalmente en horario laboral",
                                        "Uso de servicios de correo temporales",
                                        "Contenido espec√≠fico sobre proyectos internos"
                                    ]
                                },
                                {
                                    "number": "3",
                                    "title": "Investigaci√≥n de Direcciones IP",
                                    "description": "Rastreo de las direcciones IP utilizadas para enviar los mensajes y correlaci√≥n con registros de red.",
                                    "actions": [
                                        "Geolocalizaci√≥n de direcciones IP",
                                        "Consulta a registros WHOIS",
                                        "Correlaci√≥n con logs de firewall corporativo",
                                        "An√°lisis de patrones temporales"
                                    ]
                                },
                                {
                                    "number": "4",
                                    "title": "An√°lisis de Registros de Acceso",
                                    "description": "Revisi√≥n exhaustiva de los logs de acceso al sistema de correo y autenticaci√≥n de usuarios.",
                                    "actions": [
                                        "M√∫ltiples accesos desde la misma IP interna",
                                        "Horarios coincidentes con los env√≠os de mensajes",
                                        "Accesos desde estaci√≥n de trabajo espec√≠fica",
                                        "Patr√≥n de actividad sospechosa"
                                    ]
                                },
                                {
                                    "number": "5",
                                    "title": "Correlaci√≥n de Evidencia",
                                    "description": "Cruce de datos obtenidos para identificar patrones, conexiones y al responsable.",
                                    "actions": [
                                        "An√°lisis de l√≠nea de tiempo de eventos",
                                        "Correlaci√≥n IP-usuario-dispositivo",
                                        "Reconstrucci√≥n de actividades",
                                        "Validaci√≥n de hip√≥tesis"
                                    ]
                                }
                            ] %}
                            <div class="timeline-step">
                                <div class="step-marker">
                                    <span class="step-number">{{ step.number }}</span>
                                </div>
                                <div class="step-content">
                                    <h4>{{ step.title }}</h4>
                                    <p>{{ step.description }}</p>
                                    <div class="step-actions">
                                        <h6>Acciones Espec√≠ficas:</h6>
                                        <ul>
                                            {% for action in step.actions %}
                                            <li>{{ action }}</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Hallazgos y Resultados -->
                <div class="content-card mb-5">
                    <div class="card-header">
                        <h3>Hallazgos y Resultados</h3>
                        <p class="text-muted">Evidencia concluyente y descubrimientos clave</p>
                    </div>
                    <div class="card-body">
                        <div class="findings-alert">
                            <div class="alert-icon success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="alert-content">
                                <h5>Descubrimiento Principal</h5>
                                <p class="mb-0">
                                    La investigaci√≥n revel√≥ que los mensajes proven√≠an de una direcci√≥n IP interna de la empresa, 
                                    espec√≠ficamente de una estaci√≥n de trabajo en el departamento de Recursos Humanos (IP: 192.168.1.45).
                                </p>
                            </div>
                        </div>

                        <div class="findings-grid mt-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="finding-card">
                                        <h5>Evidencia Conclusiva</h5>
                                        <ul>
                                            <li>Registros de acceso coincidentes con Carlos M√©ndez</li>
                                            <li>Huellas digitales en el teclado de la estaci√≥n</li>
                                            <li>Archivos temporales con borradores de mensajes</li>
                                            <li>Historial de navegaci√≥n con b√∫squedas relacionadas</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="finding-card">
                                        <h5>Motivaci√≥n</h5>
                                        <ul>
                                            <li>Descontento por promoci√≥n no recibida</li>
                                            <li>Relaci√≥n laboral previa conflictiva</li>
                                            <li>Acceso a informaci√≥n confidencial de personal</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- L√≠nea de Tiempo de Evidencia -->
                        <div class="evidence-timeline mt-4">
                            <h5>L√≠nea de Tiempo de Evidencia</h5>
                            <div class="timeline">
                                <div class="timeline-item">
                                    <div class="timeline-date">15 Mar</div>
                                    <div class="timeline-content">
                                        <strong>Primer mensaje recibido</strong>
                                        <p>IP externa - servicio de correo temporal</p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-date">22 Mar</div>
                                    <div class="timeline-content">
                                        <strong>Acceso no autorizado detectado</strong>
                                        <p>Desde estaci√≥n HR-045 fuera de horario</p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-date">28 Mar</div>
                                    <div class="timeline-content">
                                        <strong>Evidencia concluyente</strong>
                                        <p>Borradores encontrados en archivos temporales</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lecciones Aprendidas -->
                <div class="content-card">
                    <div class="card-header">
                        <h3>Lecciones Aprendidas y Recomendaciones</h3>
                        <p class="text-muted">Mejoras implementadas y mejores pr√°cticas</p>
                    </div>
                    <div class="card-body">
                        <div class="lessons-grid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="lesson-item">
                                        <div class="lesson-icon">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="lesson-content">
                                            <h5>Seguridad de Correo</h5>
                                            <p>Implementar autenticaci√≥n multifactor para acceso a cuentas de correo corporativo.</p>
                                        </div>
                                    </div>
                                    <div class="lesson-item">
                                        <div class="lesson-icon">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <div class="lesson-content">
                                            <h5>Monitoreo Proactivo</h5>
                                            <p>Establecer sistemas de alerta temprana para actividades sospechosas en la red.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="lesson-item">
                                        <div class="lesson-icon">
                                            <i class="fas fa-user-shield"></i>
                                        </div>
                                        <div class="lesson-content">
                                            <h5>Pol√≠ticas de Acceso</h5>
                                            <p>Revisar y fortalecer pol√≠ticas de control de acceso a informaci√≥n sensible.</p>
                                        </div>
                                    </div>
                                    <div class="lesson-item">
                                        <div class="lesson-icon">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <div class="lesson-content">
                                            <h5>Capacitaci√≥n</h5>
                                            <p>Programas de concienciaci√≥n sobre seguridad y reporte de incidentes.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block styles %}
<style>
/* Estilos espec√≠ficos para Caso Pr√°ctico */
.caso-hero {
    background: linear-gradient(135deg, #4CC9F0 0%, #4361EE 100%);
    color: white;
    padding: 120px 0 80px;
}

/* Case Alert */
.case-alert {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(23, 162, 184, 0.1);
    border-radius: 15px;
    border-left: 4px solid #17A2B8;
}

.alert-icon {
    width: 50px;
    height: 50px;
    background: #17A2B8;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.alert-icon.success {
    background: #28A745;
}

.alert-content h5 {
    margin-bottom: 0.5rem;
    color: #343a40;
    font-weight: 600;
}

.alert-content p {
    margin: 0;
    color: #495057;
    line-height: 1.5;
}

/* Case Details */
.case-details {
    margin-top: 2rem;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(67, 97, 238, 0.05);
    border-radius: 10px;
    margin-bottom: 1rem;
}

.detail-item i {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.detail-content {
    display: flex;
    flex-direction: column;
}

.detail-content strong {
    color: #343a40;
    font-weight: 600;
}

.detail-content span {
    color: #6c757d;
}

/* Investigation Timeline */
.investigation-timeline {
    position: relative;
    padding-left: 60px;
}

.investigation-timeline::before {
    content: '';
    position: absolute;
    left: 30px;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(to bottom, #4361EE, #3A0CA3);
    border-radius: 2px;
}

.timeline-step {
    position: relative;
    margin-bottom: 3rem;
}

.step-marker {
    position: absolute;
    left: -60px;
    top: 0;
    width: 60px;
    display: flex;
    justify-content: center;
}

.step-number {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #4361EE, #3A0CA3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    border: 3px solid white;
    box-shadow: 0 0 0 3px #4361EE;
}

.step-content {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(67, 97, 238, 0.1);
    border: 2px solid rgba(67, 97, 238, 0.1);
}

.step-content h4 {
    margin-bottom: 1rem;
    color: #343a40;
    font-weight: 600;
}

.step-content p {
    color: #495057;
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.step-actions {
    background: rgba(67, 97, 238, 0.05);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid #4361EE;
}

.step-actions h6 {
    margin-bottom: 1rem;
    color: #343a40;
    font-weight: 600;
}

.step-actions ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.step-actions li {
    padding: 0.5rem 0;
    color: #495057;
    position: relative;
    padding-left: 1.5rem;
}

.step-actions li::before {
    content: '‚Ä¢';
    color: #4361EE;
    font-weight: bold;
    position: absolute;
    left: 0;
}

/* Findings */
.findings-alert {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(40, 167, 69, 0.1);
    border-radius: 15px;
    border-left: 4px solid #28A745;
}

.findings-grid {
    margin-top: 2rem;
}

.finding-card {
    background: rgba(67, 97, 238, 0.05);
    padding: 1.5rem;
    border-radius: 15px;
    border-left: 4px solid #4361EE;
    height: 100%;
}

.finding-card h5 {
    margin-bottom: 1rem;
    color: #343a40;
    font-weight: 600;
}

.finding-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.finding-card li {
    padding: 0.5rem 0;
    color: #495057;
    position: relative;
    padding-left: 1.5rem;
}

.finding-card li::before {
    content: '‚úì';
    color: #28A745;
    font-weight: bold;
    position: absolute;
    left: 0;
}

/* Evidence Timeline */
.evidence-timeline {
    margin-top: 2rem;
}

.evidence-timeline h5 {
    margin-bottom: 1.5rem;
    color: #343a40;
    font-weight: 600;
}

.timeline {
    position: relative;
    padding-left: 100px;
}

.timeline::before {
    content: '';
    position: absolute;
    left: 50px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: #4361EE;
}

.timeline-item {
    position: relative;
    margin-bottom: 2rem;
}

.timeline-date {
    position: absolute;
    left: -100px;
    top: 0;
    width: 80px;
    text-align: right;
    font-weight: 600;
    color: #4361EE;
}

.timeline-content {
    background: white;
    padding: 1rem 1.5rem;
    border-radius: 10px;
    border: 2px solid rgba(67, 97, 238, 0.1);
}

.timeline-content strong {
    display: block;
    margin-bottom: 0.25rem;
    color: #343a40;
}

.timeline-content p {
    margin: 0;
    color: #6c757d;
    font-size: 0.9rem;
}

/* Lessons Grid */
.lessons-grid {
    margin-bottom: 2rem;
}

.lesson-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(67, 97, 238, 0.05);
    border-radius: 15px;
    margin-bottom: 1rem;
    border-left: 4px solid #4361EE;
}

.lesson-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #4361EE, #3A0CA3);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.lesson-content h5 {
    margin-bottom: 0.5rem;
    color: #343a40;
    font-weight: 600;
}

.lesson-content p {
    margin: 0;
    color: #495057;
    line-height: 1.5;
}

/* Responsive */
@media (max-width: 768px) {
    .investigation-timeline {
        padding-left: 0;
    }
    
    .investigation-timeline::before {
        display: none;
    }
    
    .step-marker {
        position: static;
        margin-bottom: 1rem;
    }
    
    .timeline {
        padding-left: 0;
    }
    
    .timeline::before {
        display: none;
    }
    
    .timeline-date {
        position: static;
        margin-bottom: 0.5rem;
        text-align: left;
    }
    
    .case-alert,
    .findings-alert,
    .lesson-item {
        flex-direction: column;
        text-align: center;
    }
    
    .alert-icon,
    .lesson-icon {
        margin: 0 auto;
    }
}

@media (max-width: 576px) {
    .detail-item {
        flex-direction: column;
        text-align: center;
    }
}
</style>
{% endblock %}